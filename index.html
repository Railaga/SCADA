<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>CASA_LARA_GALLEGO</title>
  <meta name="description" content="App built to sample the use of xivelyJS">
  <meta name="viewport" content="width=device-width">

  <!-- stylesheet -->
  <link rel="stylesheet" href="css/style.css">

  <!-- typekit font -->
  <script type="text/javascript" src="//use.typekit.net/nfj5apq.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

  <!-- modernizr -->
  <script type="text/javascript" src="js/vendor/modernizr-2.6.2.min.js"></script>
</head>

<div class="app-container">

    <header class="app-header clearfix">
      <h1 class="app-logo js-app-title icon-home">CASA</h1>
      <div class="app-state"><span class="app-loading-loader"></span></div>
    </header>

    <div role="main" class="app-content clearfix">

      <div class="app-loading"><span class="app-loading-loader"></span></div>

      <div class="app-content-inner">
        
        <form class="dashboard-control js-form clearfix">
          <fieldset>

            <div class="field clearfix">
              <label class="input-label icon-lamp" for="lights">BOMBILLO 1</label>
              <input id="lights" class="input js-lights hidden" type="checkbox">
              <div class="js-lights-toggle ui-toggle" data-toggle=".js-lights">
                <span class="ui-toggle-slide clearfix">
                  <strong class="ui-toggle-on">ON</strong>
                  <strong class="ui-toggle-handle brushed-metal"></strong>
                  <strong class="ui-toggle-off">OFF</strong>
                </span>
              </div>
            </div>

            <div class="field clearfix">
              <label class="input-label icon-lamp" for="lights">BOMBILLO 2</label>
              <input id="tv-state" class="input js-tv-state hidden" type="checkbox">
              <div class="js-tv-state-toggle ui-toggle" data-toggle=".js-tv-state">
                <span class="ui-toggle-slide clearfix">
                  <strong class="ui-toggle-on">ON</strong>
                  <strong class="ui-toggle-handle brushed-metal"></strong>
                  <strong class="ui-toggle-off">OFF</strong>
                </span>
              </div>
            </div>
          </fieldset>
        </form>

        <section class="dashboard-monitor clearfix">
          <div class="monitor clearfix">
            <span class="monitor-label icon-temperature">TEMPERATURA</span>            
            <span class="monitor-value"><strong class="js-temperature">--</strong> Â°C</span>
          </div>
          <div class="monitor clearfix">
            <span class="monitor-label icon-temperature">GAS</span>
            <span class="monitor-value"><strong class="js-temperature"></strong> </span>
          </div>
        </section>
      </div>

    </div>
  </div>
<body>
  <!-- Include jQuery 
  /*<iframe src="http://vaughnlive.tv/embed/video/ralara?viewers=true&autoplay=true" frameborder="0" framespacing="0" width="640" height="400" /></iframe>*/-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <!-- Include XivelyJS -->
  <script src="http://d23cj0cdvyoxg0.cloudfront.net/xivelyjs-1.0.4.min.js"></script>


  <script>
    /* $(document).ready(function($) {
      xively.setKey( "FOabrSzuD4RtR0kTLIuXrU7lB5YmVZ1R6ddnQlfkiH972wbj" );

      // Replace with your own values
      var feedID        = 1197235218,          // Feed ID (the last number on the URL on the feed page on Xively)
          datastreamID  = "0";       // Datastream ID
          selector      = "#0";   // Your element on the page - takes any valid jQuery selector

      // Get datastream data from Xively
      xively.datastream.get (feedID, datastreamID, function ( datastream ) {
        $(selector).html( datastream["current_value"] );
      });
    });*/
    $(document).ready(function(){
      
      xively.setKey( "FOabrSzuD4RtR0kTLIuXrU7lB5YmVZ1R6ddnQlfkiH972wbj" );
      var feedID        = 1197235218,          // Feed ID (the last number on the URL on the feed page on Xively)
        datastreamID  = "0";       // Datastream ID
        datastreamID1  = "1";       // Datastream ID

      $("#speed_ctrl").change(function(){
        $("#speed_val").html($(this).val());
        
        speed=$("#speed_ctrl").val();
        $("jumbotron").addClass("loading").fadeIn(10);
        xively.datastream.update(feedID, datastreamID,{ "current_value": speed },function() {
          $("#speed_ctrl").html(JSON.stringify(data, null, ' '));
          $("jumbotron").removeClass("loading").fadeOut(10);
        });         
      });
      
      $("#speed_ctrl1").change(function(){
        $("#speed_val1").html($(this).val());
        
        speed1=$("#speed_ctrl1").val();
        $("jumbotron1").addClass("loading1").fadeIn(1);
        
        xively.datastream.update(feedID, datastreamID1,{ "current_value": speed1 },function() {
          $("#speed_ctrl1").html(JSON.stringify(data, null, ' '));
          $("jumbotron1").removeClass("loading1").fadeOut(1);
        });
        
      });
      
    });
  </script>
  
</body>
</html
